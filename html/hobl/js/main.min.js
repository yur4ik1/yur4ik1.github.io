document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".chapters-btn"),t=document.querySelector(".chapters-list"),o=document.querySelector(".select-container");e.addEventListener("click",o=>{o.stopPropagation(),e.classList.toggle("act"),t.classList.toggle("act")}),document.addEventListener("click",n=>{o.contains(n.target)||(e.classList.remove("act"),t.classList.remove("act"))});const n=document.getElementById("toc-list"),c=document.querySelectorAll(".gude__drag-drop-area h2");function l(){const e=(document.documentElement.scrollTop||document.body.scrollTop)/((document.documentElement.scrollHeight||document.body.scrollHeight)-(document.documentElement.clientHeight||window.innerHeight))*100;document.getElementById("progress-bar").style.width=e+"%"}c.forEach((e,t)=>{const o="section-"+t;e.id=o;const c=document.createElement("li");c.innerHTML=`<a href="#${o}">${e.innerText}</a>`,n.appendChild(c)}),document.querySelectorAll("#toc-list a").forEach(e=>{e.addEventListener("click",(function(e){e.preventDefault();const t=this.getAttribute("href").substring(1),o=document.getElementById(t);o&&window.scrollTo({top:o.offsetTop,behavior:"smooth"}),document.querySelectorAll("#toc-list a").forEach(e=>e.classList.remove("active")),this.classList.add("active")}))}),window.addEventListener("scroll",(function(){let e=null;if(c.forEach(t=>{const o=t.getBoundingClientRect().top;o<=window.innerHeight/2&&o>=0&&(e=t)}),e){const t=e.id,o=document.querySelector(`#toc-list a[href="#${t}"]`);document.querySelectorAll("#toc-list a").forEach(e=>e.classList.remove("active")),o&&o.classList.add("active")}})),window.addEventListener("scroll",l),window.addEventListener("resize",l),l();document.getElementById("toggle-btn").addEventListener("click",(function(){n.classList.toggle("show"),this.classList.toggle("flip")}))}),document.querySelectorAll("pre code").forEach(e=>{e.textContent=e.textContent.trim()});