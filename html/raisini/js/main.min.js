const burger=document.querySelector(".burger"),mobileMenu=document.querySelector(".mobile__menu"),burgerClose=document.querySelector(".burger-close");burger.addEventListener("click",()=>{mobileMenu.classList.add("active")}),burgerClose.addEventListener("click",()=>{mobileMenu.classList.remove("active")});const prevScrollPos=window.pageYOffset;window.addEventListener("scroll",(function(){const e=window.pageYOffset;prevScrollPos>e?document.querySelector(".header").classList.remove("hidden"):document.querySelector(".header").classList.add("hidden"),prevScrollPos=e})),window.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll(".play"),t=document.querySelector(".player"),r=t.querySelector(".player-pause"),a=t.querySelector(".close"),c=null,i=t.querySelector(".trackName"),n=t.querySelector(".trackArtists"),o=t.querySelector(".image img"),l=null,s=localStorage.getItem("currentTrack");function u(e,a,l,s){t.classList.add("active"),o.src=s,i.innerText=a,n.innerText=l,c&&(c.pause(),c=null),(c=new Audio(e)).addEventListener("loadedmetadata",(function(){var e=localStorage.getItem("currentTrackTime");e&&(c.currentTime=parseFloat(e),localStorage.removeItem("currentTrackTime")),c.play(),r.classList.add("active")}))}s&&u((l=JSON.parse(s)).track,l.title,l.artist,l.image),e.length>0&&e.forEach((function(e){e.addEventListener("click",(function(){var t=e.value,r=e.closest(".music__list-item"),a=r.querySelector(".info"),c=a.querySelector("h4").innerText,i=a.querySelector(".artists").innerText,n=r.querySelector(".image img").src;u(t,c,i,n),l={track:t,title:c,artist:i,image:n},localStorage.setItem("currentTrack",JSON.stringify(l))}))})),r.addEventListener("click",(function(){c&&!c.paused?(c.pause(),r.classList.remove("active")):c&&c.paused&&(c.play(),r.classList.add("active"))})),a.addEventListener("click",(function(){c&&!c.paused&&c.pause(),t.classList.remove("active")}))})),window.addEventListener("beforeunload",(function(e){audioPlayer&&!audioPlayer.paused&&localStorage.setItem("currentTrackTime",audioPlayer.currentTime)})),window.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll(".play"),t=document.querySelector(".player"),r=t.querySelector(".player-pause"),a=t.querySelector(".close"),c=null,i=t.querySelector(".trackName"),n=t.querySelector(".trackArtists"),o=t.querySelector(".image img"),l=null,s=localStorage.getItem("currentTrack");function u(e,a,l,s){t.classList.add("active"),o.src=s,i.innerText=a,n.innerText=l,c&&(c.pause(),c=null),(c=new Audio(e)).addEventListener("loadedmetadata",(function(){var e=localStorage.getItem("currentTrackTime");e&&(c.currentTime=parseFloat(e),localStorage.removeItem("currentTrackTime")),c.play(),r.classList.add("active")}))}s&&u((l=JSON.parse(s)).track,l.title,l.artist,l.image),e.length>0&&e.forEach((function(e){e.addEventListener("click",(function(){var t=e.value,r=e.closest(".music__list-item"),a=r.querySelector(".info"),c=a.querySelector("h4").innerText,i=a.querySelector(".artists").innerText,n=r.querySelector(".image img").src;u(t,c,i,n),l={track:t,title:c,artist:i,image:n},localStorage.setItem("currentTrack",JSON.stringify(l))}))})),r.addEventListener("click",(function(){c&&!c.paused?(c.pause(),r.classList.remove("active")):c&&c.paused&&(c.play(),r.classList.add("active"))})),a.addEventListener("click",(function(){c&&!c.paused&&c.pause(),t.classList.remove("active"),localStorage.removeItem("currentTrack"),localStorage.removeItem("currentTrackTime")}))})),window.addEventListener("unload",(function(e){audioPlayer&&!audioPlayer.paused&&localStorage.setItem("currentTrackTime",audioPlayer.currentTime)})),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".filter"),t=document.querySelector(".filter-list"),r=document.querySelector(".sort"),a=document.querySelector(".sort-list");e.addEventListener("click",(function(){t.classList.toggle("active"),a.classList.remove("active")})),r.addEventListener("click",(function(){a.classList.toggle("active"),t.classList.remove("active")})),document.addEventListener("click",(function(c){const i=c.target;i===e||i===r||i===t||i===a||t.contains(i)||a.contains(i)||(t.classList.remove("active"),a.classList.remove("active"))}))}));