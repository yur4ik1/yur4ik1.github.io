const burger=document.querySelector(".burger"),mobileMenu=document.querySelector(".mobile__menu"),burgerClose=document.querySelector(".burger-close");burger.addEventListener("click",()=>{mobileMenu.classList.add("active")}),burgerClose.addEventListener("click",()=>{mobileMenu.classList.remove("active")}),window.addEventListener("DOMContentLoaded",(function(){let e=document.querySelectorAll(".play"),t=document.querySelector(".player"),r=t.querySelector(".player-pause"),c=t.querySelector(".close"),a=null,o=t.querySelector(".trackName"),n=t.querySelector(".trackArtists"),i=t.querySelector(".image img"),l=null,s=localStorage.getItem("currentTrack");function u(e,c,l,s){t.classList.add("active"),i.src=s,o.innerText=c,n.innerText=l,a&&(a.pause(),a=null),a=new Audio(e),a.addEventListener("loadedmetadata",(function(){let e=localStorage.getItem("currentTrackTime");e&&(a.currentTime=parseFloat(e),localStorage.removeItem("currentTrackTime")),a.play(),r.classList.add("active")}))}s&&(l=JSON.parse(s),u(l.track,l.title,l.artist,l.image)),e.length>0&&e.forEach((function(e){e.addEventListener("click",(function(){let t=e.value,r=e.closest(".music__list-item"),c=r.querySelector(".info"),a=c.querySelector("h4").innerText,o=c.querySelector(".artists").innerText,n=r.querySelector(".image img").src;u(t,a,o,n),l={track:t,title:a,artist:o,image:n},localStorage.setItem("currentTrack",JSON.stringify(l))}))})),r.addEventListener("click",(function(){a&&!a.paused?(a.pause(),r.classList.remove("active")):a&&a.paused&&(a.play(),r.classList.add("active"))})),c.addEventListener("click",(function(){a&&!a.paused&&a.pause(),t.classList.remove("active"),localStorage.removeItem("currentTrack"),localStorage.removeItem("currentTrackTime")}))})),window.addEventListener("unload",(function(e){audioPlayer&&!audioPlayer.paused&&localStorage.setItem("currentTrackTime",audioPlayer.currentTime)})),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".filter"),t=document.querySelector(".filter-list"),r=document.querySelector(".sort"),c=document.querySelector(".sort-list");e&&(e.addEventListener("click",(function(){t.classList.toggle("active"),c.classList.remove("active")})),r.addEventListener("click",(function(){c.classList.toggle("active"),t.classList.remove("active")})),document.addEventListener("click",(function(a){const o=a.target;o===e||o===r||o===t||o===c||t.contains(o)||c.contains(o)||(t.classList.remove("active"),c.classList.remove("active"))})))}));const prevScrollPos=window.pageYOffset;window.addEventListener("scroll",(function(){const e=window.pageYOffset;prevScrollPos>e?document.querySelector(".header").classList.remove("hidden"):document.querySelector(".header").classList.add("hidden"),prevScrollPos=e}));